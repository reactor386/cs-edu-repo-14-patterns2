//-
// using NUnit.Framework;
// using NUnit.Framework.Legacy;
// using Moq;
// using AutoFixture;

using System;
using System.Collections.Generic;

using YoutubeExplodeExploiter.App;


namespace YoutubeExplodeExploiter.Tests;

/// <summary>
/// Тестирование команд взаимодействия с YoutubeExplode
/// </summary>
[TestFixture]
public class YoutubeOperatorTests
{
    [Test]
    [TestCase("https://www.youtube.com/watch?v=6Qw1j2CLdwo")]
    public void GetVideoInfo_MustReturnDictionary(string videoUrl)
    {
        YoutubeOperator youtubeOperator = new();
        Dictionary<string, string> functionResult;
        functionResult = youtubeOperator.GetVideoInfo(videoUrl);

        Assert.That(functionResult.Keys, Has.Count.GreaterThan(0));
    }

    [Test]
    [TestCase("https://www.youtube.com/watch?v=6Qw1j2CLdwo", "C:\\Temp\\video.ext")]
    public void GetVideoContent_MustReturnTrue(string videoUrl, string outputFilePath)
    {
        YoutubeOperator youtubeOperator = new();
        bool functionResult;
        functionResult = youtubeOperator.GetVideoContent(videoUrl, outputFilePath);

        Assert.That(functionResult, Is.True);
    }
}
